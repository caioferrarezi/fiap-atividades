include ../layouts/base

block content
  main(class="container mx-auto mt-12")
    h1(class="text-3xl font-bold text-slate-700 mb-8") Novo Apontamento

    form(
      action="/appointments",
      method="POST",
      class="max-w-sm"
    )
      div(class="flex flex-col gap-2 mb-4")
        label(
          for="user_id",
          class="block text-sm font-medium text-slate-700"
        ) Usuário

        if users
          select(
            name="user_id",
            id="user_id",
            class="bg-gray-50 border border-gray-300 text-slate-700 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
          )
            option(value="" disabled selected) Selecione um usuário
            each user in users
              option(value=user.id)= user.name
        else if user
          input(type="hidden", name="user_id", value=user.id)
          div(
            class="bg-gray-200 border border-gray-300 text-slate-500 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
          )= user.name

      div(class="flex flex-col gap-2 mb-6")
        label(
          for="date",
          class="block text-sm font-medium text-slate-700"
        ) Data

        input(
          type="date",
          name="date",
          id="date",
          value=new Date().toISOString().split('T')[0],
          max=new Date().toISOString().split('T')[0],
          class="bg-gray-50 border border-gray-300 text-slate-700 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
        )

      div(class="flex w-full gap-4 mb-6")
        div(class="flex flex-col flex-1 gap-2")
          label(
            for="start_time",
            class="block text-sm font-medium text-slate-700"
          ) Hora inicial

          input(
            type="time",
            name="start_time",
            id="start_time",
            class="bg-gray-50 border border-gray-300 text-slate-700 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
          )

        div(class="flex flex-col flex-1 gap-2")
          label(
            for="end_time",
            class="block text-sm font-medium text-slate-700"
          ) Hora final

          input(
            type="time",
            name="end_time",
            id="end_time",
            class="bg-gray-50 border border-gray-300 text-slate-700 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
          )

      button(
        type="submit",
        class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center"
      ) Cadastrar
